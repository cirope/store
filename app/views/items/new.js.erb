if ($('#modal').length) {
  $('#modal .modal-title').text('<%= j @title %>');
  $('#modal .modal-body').html('<%= j render(template: 'items/new.html') %>');
  $('#modal').find('[autofocus]').focus();
} else {
  $('body').append('<%= j render('shared/modal', title: @title, body: render(template: 'items/new.html')) %>');
}

$('#modal').on('shown.bs.modal', function(e) {
  $(this).find('[autofocus]').focus();
}).modal('show');
